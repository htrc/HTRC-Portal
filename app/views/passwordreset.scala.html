@(form: Form[UserManagement.PasswordReset], user: User, token: String)


@main("PasswordReset", user) {
    <legend>Reset Password</legend>
    @helper.form(routes.UserManagement.passwordReset(), 'class -> "form-horizontal") {
        @if(form.hasGlobalErrors) {
            <p class="error">
                @form.globalError.message
            </p>
        }
        @if(flash.contains("success")) {
            <p class="success">
                @flash.get("success")
            </p>
        }

        <div class="control-group">
            <input type="hidden" name="token" id="token" value=@token>
            <label class="control-label" for="password">New Password</label>
            <div class="controls">
                <input type="password" name="password" id="password" placeholder="Password" required="true">
            </div>

        </div>
        <div class="control-group">
            <label class="control-label" for="retypePassword">Retype Password</label>
            <div class="controls">
                <input type="password" name="retypePassword" id="retypePassword" placeholder="Password" required="true" oninput="check(this)" >
                <script language='javascript' type='text/javascript'>
                function check ( input ) {
                    if ( input.value != document.getElementById ( 'password' ).value ) {
                        input.setCustomValidity ( 'Password Must be Matching.' ) ;
                    } else {
                    // input is valid -- reset the error message
                        input.setCustomValidity ( '' ) ;
                    }
                }
                </script>
            </div>
        </div>
        <div class="control-group">
            <div class="controls">
                <button name="passwordReset" id="passwordReset" type="submit" class="btn btn-default">Reset Password</button>
            </div>
        </div>
        <script src="@routes.Assets.at("javascripts/passwordstrengthchecker.js")"></script>


    }

}
@(user: User, form: Form[ExperimentalAnalysis.CreateVM], vmDetailsList: List[edu.indiana.d2i.htrc.sloan.bean.VMImageDetails])


@main("VMCreate", user) {
    <div class="container">
        <div class="panel panel-default panel-htrc">
            <div class="panel-heading">
                <strong>VM Creation (All fields are required) </strong>
            </div>
            <div class="panel-body">
            @helper.form(routes.ExperimentalAnalysis.createVM(), 'class -> "form-horizontal") {
                @if(form.hasGlobalErrors) {
                    <p class="error">
                    @form.globalError.message
                    </p>
                }
                @if(flash.contains("success")) {
                    <p class="success">
                    @flash.get("success")
                    </p>
                }
                <div class="form-group">
                    <label for="vmImageName" class="col-sm-2 control-label">VM Image</label>
                    <div class="col-sm-10">
                        <select id="vmImageName" name="vmImageName" class="form-control">
                            <option selected="selected">
                                @form.data().get("vmImageName")
                            </option>
                        @for(vm <- vmDetailsList) {
                            <option>@vm.getVmImageName</option>
                        }
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="userName" class="col-sm-2 control-label">VNC Login User Name</label>
                    <div class="col-sm-10">
                        <table>
                            <tr>
                                <td><input type="text" class="form-control" id="userName" name="userName" placeholder="User Name" required="true" value="@form.data().get("userName")"></td>

                            </tr>
                            <tr>
                                <td>
                                    Note: This is different from the login user name of VM. </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="form-group">
                    <label for="password" class="col-sm-2 control-label">VNC Login Password </label>
                    <div class="col-sm-10">
                        <table>
                            <tr>
                                <td><input type="password" class="form-control" id="password" name="password" placeholder="Password" required="true"></td>

                            </tr>
                            <tr>
                                <td>
                                    Note: This is different from the login password of VM. Password must be less than 8 characters. This is due to a VNC limitation.</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="form-group">
                    <label for="confirmPassword" class="col-sm-2 control-label">Confirm Password [VNC] </label>
                    <div class="col-sm-10">
                        <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" placeholder="Password" required="true" oninput="check(this)">
                        <script language='javascript' type='text/javascript'>
                        function check (input){
                            if (input.value != document.getElementById('password').value){
                                input.setCustomValidity('Password Must be Matching.');
                            } else {
                                // input is valid -- reset the error message
                                input.setCustomValidity('') ;
                            }
                        }
                        </script>
                    </div>
                </div>
                <div class="form-group">
                    <label for="numberOfVCPUs" class="col-sm-2 control-label">VCPUs</label>
                    <div class="col-sm-10">
                        <table>
                            <tr>
                                <select id="numberOfVCPUs" name="numberOfVCPUs" class="form-control">
                                    <option selected="selected">
                                        @form.data().get("numberOfVCPUs")
                                    </option>
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                    <option>5</option>
                                    <option>6</option>
                                    <option>7</option>
                                    <option>8</option>
                                </select>
                            </tr>
                            <tr>
                                Note: Virtual Machine CPUs
                            </tr>
                        </table>

                    </div>
                </div>
                <div class="form-group">
                    <label for="memory" class="col-sm-2 control-label">Memory (MB)</label>
                    <div class="col-sm-10">
                        <input type="text" id="memory" name="memory" required="true" class="form-control" value="@form.data().get("memory")">
                        Memory should be between 1024MB - 4096MB
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn btn-primary btn-sm">Create VM</button>
                    </div>
                </div>
            }
            </div>
        </div>
    </div>
}
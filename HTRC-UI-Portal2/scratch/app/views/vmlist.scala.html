@(user: User, vmDetailsList: List[VirtualMachine])



@main("Worksets", user) {
    <legend>Virtual Machines
        <a href="@routes.HTRCExperimentalAnalysis.createVMForm()" class="btn btn-small pull-right" id="create-vm" style="padding-top: 5px">
            <i class="icon-plus"></i>
        </a>
    </legend>
    @if(vmDetailsList.length > 0){
     <table class="table table-hover">
         <thead>
             <tr>
                 <th><b>Vm Id</b></th>
                 <th><b>VM Name</b></th>
                 <th><b>Actions</b></th>
             </tr>
         </thead>
         <tbody>
             @for(vm <- vmDetailsList){
                 <tr>
                     <td>
                         <a href="@routes.HTRCExperimentalAnalysis.showVMStatus(vm.vmId)">
                             @vm.vmName
                         </a>
                     </td>
                     <td>
                         @vm.vmId
                     </td>
                     <td>
                     @if(vm.vmStatus == "SHUTDOWN"){
                     <a href="@routes.HTRCExperimentalAnalysis.startVM(vm.vmId)" class="btn btn-info btn-small" id="startvm">
                         Start VM
                     </a>
                     }
                     @if(vm.vmStatus != "SHUTDOWN"){
                         @if(vm.mode == "MAINTENANCE"){
                     <a href="@routes.HTRCExperimentalAnalysis.switchVMMode(vm.vmId, "security")" class="btn btn-info btn-small" id="switchmode-maintainance">
                         Switch To Security
                     </a>
                         } else{

                         <a href="@routes.HTRCExperimentalAnalysis.switchVMMode(vm.vmId, "maintenance")" class="btn btn-info btn-small" id="switchmode-security">
                                 Switch To Maintenance
                         </a>
                         }
                     }
                     @if(vm.vmStatus != "SHUTDOWN"){
                     <a href="@routes.HTRCExperimentalAnalysis.stopVM(vm.vmId)" class="btn btn-warning btn-small" id="stopvm">
                         Stop VM
                     </a>
                     }
                     <a href="@routes.HTRCExperimentalAnalysis.deleteVM(vm.vmId)" class="btn btn-danger btn-small" id="deletevms" onclick="">
                        <i class="icon-trash icon-white"></i> Delete VM
                     </a>
                     </td>
                 </tr>
             }
         </tbody>
     </table>
     } else {
        <p>There are no virtual machines.</p>
     }

     <div class="modal hide fade" id="dlete-vm-modal">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h3>Delete VM</h3>
        </div>
        <div class="modal-body">
            <p>Do you want to delete VM Id: </p>
        </div>
        <div class="modal-footer">
            <span class="pull-left" style="padding-top: 5px;"><input type="checkbox" id="dont-show" style="margin: -3px 0 0;"> Don't Show This Again.</span>
            <a href="#" class="btn" data-dismiss="modal" aria-hidden="true">Cancel</a>
            <a href="<%=PortalConfiguration.getBlacklightURL()%>" class="btn btn-primary" onclick="goToCreateCollection()">Go</a>
        </div>
    </div>
}